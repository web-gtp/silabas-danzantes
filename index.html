<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SÃ­labas Danzantes | Juego Educativo BilingÃ¼e</title>
  
  <meta name="description" content="Juego educativo neuroeducativo para automatizaciÃ³n de lectoescritura bilingÃ¼e">
  <meta name="robots" content="noindex, nofollow">
  
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* ===== ESTILOS ADICIONALES PARA FORMULARIO EXTENDIDO ===== */
    .form-section {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid #4CAF50;
    }
    
    .form-section-title {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
    
    .form-help {
      font-size: 12px;
      color: #666;
      font-style: italic;
      margin-top: 5px;
    }
    
    .session-type-selector {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    
    .session-type-btn {
      flex: 1;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      font-weight: 600;
    }
    
    .session-type-btn:hover {
      border-color: #4CAF50;
      transform: translateY(-2px);
    }
    
    .session-type-btn.active {
      border-color: #4CAF50;
      background: #e8f5e9;
      color: #2e7d32;
    }
    
    .teacher-note {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 8px;
      padding: 12px;
      margin: 15px 0;
      font-size: 13px;
      line-height: 1.6;
    }
    
    .teacher-note strong {
      color: #856404;
    }
    
    .range-input-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .range-input {
      flex: 1;
    }
    
    .range-value {
      min-width: 60px;
      text-align: center;
      font-weight: 700;
      font-size: 18px;
      color: #4CAF50;
    }
  </style>
</head>

<body>
  <div class="app-container">
    
    <!-- HEADER -->
    <header class="game-header">
      <div class="header-content">
        <h1 class="game-title">ğŸ¯ SÃ­labas Danzantes</h1>
        
        <div class="session-info">
          <!-- IDIOMA BLOQUEADO HASTA INICIAR SESIÃ“N -->
          <div class="language-selector" id="languageSelector" style="opacity: 0.5; pointer-events: none;">
            <button id="langBtnEs" class="lang-btn lang-btn--active" disabled>ğŸ‡ªğŸ‡¸</button>
            <button id="langBtnEn" class="lang-btn" disabled>ğŸ‡¬ğŸ‡§</button>
          </div>
          
          <div class="score-display">
            <span>â­</span>
            <span id="scoreValue" class="score-value">0</span>
          </div>
        </div>
      </div>
    </header>

    <main class="game-main">
      
      <!-- ========================================== -->
      <!-- PANTALLA 1: FORMULARIO PARA ESTUDIANTE -->
      <!-- ========================================== -->
      <section id="startScreen" class="screen screen--active">
        <div class="start-container">
          
          <!-- NOTA PARA PROFESORA -->
          <div class="teacher-note">
            <strong>ğŸ‘©â€ğŸ« INSTRUCCIONES PARA PROFESORA AUXILIAR:</strong><br>
            Complete este formulario CON el estudiante antes de iniciar la sesiÃ³n.<br>
            Los datos demogrÃ¡ficos (NSE, exposiciÃ³n, ADHD) ya deben estar registrados en Firebase.<br>
            Seleccione el TIPO DE SESIÃ“N y el IDIOMA antes de comenzar.
          </div>
          
          <h2 class="start-title">Â¡Hola! ğŸ‘‹</h2>
          <p class="start-subtitle">Vamos a jugar con palabras</p>
          
          <!-- ========================================== -->
          <!-- FORMULARIO EXTENDIDO -->
          <!-- ========================================== -->
          <form id="participantForm" class="participant-form">
            
            <!-- ========================================== -->
            <!-- SECCIÃ“N 1: IDENTIFICACIÃ“N DEL ESTUDIANTE -->
            <!-- ========================================== -->
            <div class="form-section">
              <h3 class="form-section-title">
                <span>ğŸ“‹</span> Datos del Estudiante
              </h3>
              
              <!-- CÃ“DIGO ESTUDIANTE -->
              <div class="form-group">
                <label for="studentCode">
                  <span class="form-icon">ğŸ«</span> CÃ³digo de estudiante *
                </label>
                <input 
                  type="text" 
                  id="studentCode" 
                  class="form-input"
                  placeholder="Ejemplo: EST001"
                  required
                  maxlength="20"
                  pattern="[A-Z]{3}[0-9]{3}"
                  title="Formato: EST001"
                >
                <p class="form-help">Formato: EST + 3 dÃ­gitos (ej: EST001, EST025)</p>
              </div>
              
              <!-- NOMBRE -->
              <div class="form-group">
                <label for="participantName">
                  <span class="form-icon">ğŸ˜Š</span> Nombre completo *
                </label>
                <input 
                  type="text" 
                  id="participantName" 
                  class="form-input"
                  placeholder="Nombre y apellido"
                  required
                  maxlength="50"
                >
              </div>
              
              <!-- EDAD (AÃ‘OS Y MESES) -->
              <div class="form-row">
                <div class="form-group">
                  <label for="participantAge">
                    <span class="form-icon">ğŸ‚</span> Edad (aÃ±os) *
                  </label>
                  <select id="participantAge" class="form-select" required>
                    <option value="">Seleccione</option>
                    <option value="4">4 aÃ±os</option>
                    <option value="5">5 aÃ±os</option>
                    <option value="6">6 aÃ±os</option>
                    <option value="7">7 aÃ±os</option>
                    <option value="8">8 aÃ±os</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="participantAgeMonths">
                    <span class="form-icon">ğŸ“…</span> Meses adicionales *
                  </label>
                  <select id="participantAgeMonths" class="form-select" required>
                    <option value="">Seleccione</option>
                    <option value="0">0 meses</option>
                    <option value="1">1 mes</option>
                    <option value="2">2 meses</option>
                    <option value="3">3 meses</option>
                    <option value="4">4 meses</option>
                    <option value="5">5 meses</option>
                    <option value="6">6 meses</option>
                    <option value="7">7 meses</option>
                    <option value="8">8 meses</option>
                    <option value="9">9 meses</option>
                    <option value="10">10 meses</option>
                    <option value="11">11 meses</option>
                  </select>
                  <p class="form-help">Ejemplo: Si tiene 6 aÃ±os y 4 meses â†’ 6 aÃ±os + 4 meses</p>
                </div>
              </div>
              
              <!-- GÃ‰NERO -->
              <div class="form-group">
                <label>
                  <span class="form-icon">ğŸ‘¤</span> GÃ©nero *
                </label>
                <div class="gender-buttons">
                  <button type="button" class="gender-btn" data-gender="Masculino">ğŸ‘¦ NiÃ±o</button>
                  <button type="button" class="gender-btn" data-gender="Femenino">ğŸ‘§ NiÃ±a</button>
                  <button type="button" class="gender-btn" data-gender="Otro">ğŸ˜Š Otro</button>
                </div>
                <input type="hidden" id="participantGender" value="">
              </div>
            </div>
            
            <!-- ========================================== -->
            <!-- SECCIÃ“N 2: CONFIGURACIÃ“N DE SESIÃ“N -->
            <!-- ========================================== -->
            <div class="form-section">
              <h3 class="form-section-title">
                <span>âš™ï¸</span> ConfiguraciÃ³n de la SesiÃ³n
              </h3>
              
              <!-- TIPO DE SESIÃ“N -->
              <div class="form-group">
                <label>
                  <span class="form-icon">ğŸ“Š</span> Tipo de sesiÃ³n *
                </label>
                <div class="session-type-selector">
                  <button type="button" class="session-type-btn" data-session-type="pre-test">
                    ğŸ“ PRE-TEST<br>
                    <small>(Semana 1)</small>
                  </button>
                  <button type="button" class="session-type-btn active" data-session-type="intervention">
                    ğŸ® INTERVENCIÃ“N<br>
                    <small>(Semanas 2-9)</small>
                  </button>
                  <button type="button" class="session-type-btn" data-session-type="post-test">
                    âœ… POST-TEST<br>
                    <small>(Semana 10)</small>
                  </button>
                </div>
                <input type="hidden" id="sessionType" value="intervention">
              </div>
              
              <!-- SEMANA DE INTERVENCIÃ“N -->
              <div class="form-group" id="weekNumberGroup">
                <label for="weekNumber">
                  <span class="form-icon">ğŸ“…</span> Semana de intervenciÃ³n *
                </label>
                <select id="weekNumber" class="form-select" required>
                  <option value="">Seleccione semana</option>
                  <option value="1">Semana 1 - Pre-test</option>
                  <option value="2">Semana 2 - Juego 1</option>
                  <option value="3">Semana 3 - Juego 2</option>
                  <option value="4">Semana 4 - Juego 3</option>
                  <option value="5">Semana 5 - Juego 4</option>
                  <option value="6">Semana 6 - J1+J2 (ES)</option>
                  <option value="7">Semana 7 - J1+J2 (EN)</option>
                  <option value="8">Semana 8 - J3+J4 (ES)</option>
                  <option value="9">Semana 9 - J3+J4 (EN)</option>
                  <option value="10">Semana 10 - Post-test</option>
                </select>
              </div>
              
              <!-- IDIOMA DE LA SESIÃ“N -->
              <div class="form-group">
                <label>
                  <span class="form-icon">ğŸŒ</span> Idioma de esta sesiÃ³n *
                </label>
                <div class="session-type-selector">
                  <button type="button" class="session-type-btn active" data-language="es">
                    ğŸ‡ªğŸ‡¸ ESPAÃ‘OL<br>
                    <small>(L1 - Idioma primario)</small>
                  </button>
                  <button type="button" class="session-type-btn" data-language="en">
                    ğŸ‡¬ğŸ‡§ INGLÃ‰S<br>
                    <small>(L2 - Idioma adicional)</small>
                  </button>
                </div>
                <input type="hidden" id="sessionLanguage" value="es">
                <p class="form-help">
                  âš ï¸ <strong>IMPORTANTE:</strong> Cada estudiante debe completar 2 sesiones: una en espaÃ±ol y otra en inglÃ©s
                </p>
              </div>
              
              <!-- NIVEL DE DIFICULTAD -->
              <div class="form-group">
                <label for="difficultySelect">
                  <span class="form-icon">ğŸ¯</span> Nivel de dificultad *
                </label>
                <select id="difficultySelect" class="form-select">
                  <option value="1">ğŸŸ¢ FÃ¡cil (1-2 sÃ­labas)</option>
                  <option value="2" selected>ğŸŸ¡ Normal (3 sÃ­labas)</option>
                  <option value="3">ğŸ”´ DifÃ­cil (4+ sÃ­labas)</option>
                </select>
                <p class="form-help">Ajustar segÃºn rendimiento previo del estudiante</p>
              </div>
            </div>
            
            <!-- ========================================== -->
            <!-- SECCIÃ“N 3: DATOS DEMOGRÃFICOS (OPCIONAL - YA EN FIREBASE) -->
            <!-- ========================================== -->
            <div class="form-section" style="border-left-color: #2196F3;">
              <h3 class="form-section-title">
                <span>ğŸ“ˆ</span> Datos DemogrÃ¡ficos (Opcional - Solo si es nuevo estudiante)
              </h3>
              
              <p style="font-size: 13px; color: #666; margin-bottom: 15px;">
                â„¹ï¸ Estos datos normalmente ya estÃ¡n en el sistema. Solo completar si es la primera sesiÃ³n del estudiante.
              </p>
              
              <!-- IDIOMA PRIMARIO (L1) -->
              <div class="form-group">
                <label for="primaryLanguage">
                  <span class="form-icon">ğŸ—£ï¸</span> Idioma primario del estudiante (L1)
                </label>
                <select id="primaryLanguage" class="form-select">
                  <option value="">No especificado</option>
                  <option value="EspaÃ±ol" selected>EspaÃ±ol</option>
                  <option value="InglÃ©s">InglÃ©s</option>
                </select>
                <p class="form-help">Â¿QuÃ© idioma habla principalmente en casa?</p>
              </div>
              
              <!-- IDIOMA DEL HOGAR -->
              <div class="form-group">
                <label for="homeLanguage">
                  <span class="form-icon">ğŸ </span> Idioma del hogar
                </label>
                <select id="homeLanguage" class="form-select">
                  <option value="">No especificado</option>
                  <option value="MonolingÃ¼e" selected>MonolingÃ¼e (solo espaÃ±ol)</option>
                  <option value="BilingÃ¼e">BilingÃ¼e (espaÃ±ol e inglÃ©s)</option>
                </select>
              </div>
              
              <!-- NIVEL SOCIOECONÃ“MICO -->
              <div class="form-group">
                <label for="nseLevel">
                  <span class="form-icon">ğŸ’°</span> Nivel SocioeconÃ³mico (NSE)
                </label>
                <select id="nseLevel" class="form-select">
                  <option value="">No especificado</option>
                  <option value="Bajo">Bajo</option>
                  <option value="Medio" selected>Medio</option>
                  <option value="Alto">Alto</option>
                </select>
                <p class="form-help">InformaciÃ³n proporcionada por la instituciÃ³n</p>
              </div>
              
              <!-- EXPOSICIÃ“N A LECTURA -->
              <div class="form-group">
                <label for="readingHours">
                  <span class="form-icon">ğŸ“š</span> ExposiciÃ³n a lectura (horas semanales)
                </label>
                <div class="range-input-container">
                  <input 
                    type="range" 
                    id="readingHours" 
                    class="range-input"
                    min="0" 
                    max="14" 
                    value="0" 
                    step="1"
                  >
                  <span id="readingHoursValue" class="range-value">0 hrs</span>
                </div>
                <p class="form-help">Â¿CuÃ¡ntas horas lee en casa por semana?</p>
              </div>
              
              <!-- EXPOSICIÃ“N A PANTALLAS -->
              <div class="form-group">
                <label for="screenHours">
                  <span class="form-icon">ğŸ“±</span> ExposiciÃ³n a pantallas (horas semanales)
                </label>
                <div class="range-input-container">
                  <input 
                    type="range" 
                    id="screenHours" 
                    class="range-input"
                    min="0" 
                    max="30" 
                    value="0" 
                    step="1"
                  >
                  <span id="screenHoursValue" class="range-value">0 hrs</span>
                </div>
                <p class="form-help">Tablets, TV, videojuegos, etc.</p>
              </div>
              
              <!-- SCREENING ADHD -->
              <div class="form-group">
                <label for="adhdScreening">
                  <span class="form-icon">ğŸ§ </span> Screening ADHD (SNAP-IV)
                </label>
                <select id="adhdScreening" class="form-select">
                  <option value="">No evaluado</option>
                  <option value="Negativo" selected>Negativo</option>
                  <option value="Positivo">Positivo</option>
                </select>
                <p class="form-help">Basado en evaluaciÃ³n SNAP-IV previa</p>
              </div>
            </div>
            
            <!-- ========================================== -->
            <!-- SECCIÃ“N 4: INSTRUCCIONES -->
            <!-- ========================================== -->
            <div class="instructions">
              <h3>Â¿CÃ³mo jugar? ğŸ®</h3>
              <ol>
                <li>ğŸ”Š Escucha la palabra con atenciÃ³n</li>
                <li>ğŸ–¼ï¸ Mira la imagen que aparece</li>
                <li>ğŸ‘† Toca las sÃ­labas en el orden correcto</li>
                <li>âœ… Presiona VERIFICAR para revisar tu respuesta</li>
                <li>â­ Â¡Gana puntos por cada respuesta correcta!</li>
              </ol>
              <p style="margin-top: 10px; font-size: 13px; color: #666;">
                ğŸ’¡ <strong>Tip:</strong> Si te equivocas, usa el botÃ³n BORRAR para intentar de nuevo.
              </p>
            </div>
            
            <!-- BOTÃ“N INICIAR -->
            <button type="submit" class="btn btn--primary btn--large">
              ğŸš€ Â¡COMENZAR SESIÃ“N!
            </button>
            
            <p class="privacy-note">
              ğŸ”’ Datos protegidos segÃºn normativa de investigaciÃ³n educativa
            </p>
          </form>
        </div>
      </section>

      <!-- ========================================== -->
      <!-- PANTALLA 2: JUEGO -->
      <!-- ========================================== -->
      <section id="gameScreen" class="screen">
        <div class="game-container-compact">
          
          <!-- INDICADOR DE SESIÃ“N ACTIVA -->
          <div style="background: #e3f2fd; padding: 10px; border-radius: 8px; margin-bottom: 15px; text-align: center; font-size: 13px;">
            <strong>SesiÃ³n activa:</strong> 
            <span id="activeSessionInfo">Estudiante: [Nombre] | Idioma: [ES/EN] | Semana: [X]</span>
          </div>
          
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <p class="progress-text">
            <strong><span id="questionNumber">1</span> de <span id="totalQuestions">10</span></strong>
          </p>
          
          <div class="game-grid">
            
            <div class="stimulus-column">
              <img id="stimulusImage" src="" alt="" class="stimulus-image-compact">
              <p id="stimulusWord" class="stimulus-word-compact"></p>
              <button id="playAudioBtn" class="btn btn--audio">
                ğŸ”Š ESCUCHAR
              </button>
            </div>
            
            <div class="response-column">
              
              <div class="selected-area-compact">
                <p class="selected-label">âœ… Tu respuesta:</p>
                <div id="selectedSyllables" class="selected-syllables">
                  <span class="placeholder-text">Toca las sÃ­labas â†’</span>
                </div>
              </div>
              
              <div class="syllable-options-compact" id="syllableOptions"></div>
              
              <div class="control-buttons-compact">
                <button id="undoBtn" class="btn btn--undo">â†©ï¸ BORRAR</button>
                <button id="checkBtn" class="btn btn--check">âœ”ï¸ VERIFICAR</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ========================================== -->
      <!-- PANTALLA 3: FEEDBACK -->
      <!-- ========================================== -->
      <section id="feedbackScreen" class="screen">
        <div class="feedback-container">
          <div id="feedbackContent" class="feedback-content"></div>
          <button id="nextBtn" class="btn btn--primary btn--large">
            â¡ï¸ SIGUIENTE
          </button>
        </div>
      </section>

      <!-- ========================================== -->
      <!-- PANTALLA 4: RESULTADOS -->
      <!-- ========================================== -->
      <section id="endScreen" class="screen">
        <div class="end-container">
          <h2 class="end-title">ğŸ‰ Â¡SesiÃ³n completada!</h2>
          
          <!-- RESUMEN DE SESIÃ“N -->
          <div style="background: #e8f5e9; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <p style="margin: 0; font-size: 14px;">
              <strong>Estudiante:</strong> <span id="summaryStudentName">-</span><br>
              <strong>Idioma de sesiÃ³n:</strong> <span id="summaryLanguage">-</span><br>
              <strong>Semana:</strong> <span id="summaryWeek">-</span><br>
              <strong>Tipo:</strong> <span id="summaryType">-</span>
            </p>
          </div>
          
          <div class="end-stats">
            <div class="stat">
              <span class="stat-label">PrecisiÃ³n:</span>
              <span id="finalAccuracy" class="stat-value">0%</span>
            </div>
            <div class="stat">
              <span class="stat-label">Tiempo promedio:</span>
              <span id="finalAvgTime" class="stat-value">0 ms</span>
            </div>
            <div class="stat">
              <span class="stat-label">Puntos totales:</span>
              <span id="finalScore" class="stat-value">0</span>
            </div>
          </div>
          
          <div class="end-message" id="endMessage"></div>
          
          <!-- INSTRUCCIONES PARA PROFESORA -->
          <div class="teacher-note" style="margin-top: 20px;">
            <strong>ğŸ‘©â€ğŸ« SIGUIENTE PASO:</strong><br>
            â€¢ Si es PRE-TEST o POST-TEST: Registrar datos en hoja de control<br>
            â€¢ Si es INTERVENCIÃ“N: Estudiante puede regresar a clase<br>
            â€¢ Verificar que datos se guardaron en Firebase<br>
            â€¢ Preparar estaciÃ³n para siguiente estudiante
          </div>
          
          <button id="restartBtn" class="btn btn--primary btn--large">
            ğŸ”„ NUEVA SESIÃ“N (Otro estudiante)
          </button>
        </div>
      </section>

    </main>
    
  </div>

  <audio id="audioElement" preload="auto"></audio>
  
  <div id="loadingSpinner" class="loading-spinner" hidden>
    <div class="spinner"></div>
    <p style="margin-top: 10px; color: #666;">Cargando datos...</p>
  </div>

  <footer class="game-footer">
    <p>
      Juego Neuroeducativo BilingÃ¼e | InvestigaciÃ³n MaestrÃ­a BIU 2026<br>
      <small>DiseÃ±o experimental: Pre-test/Post-test | IntervenciÃ³n 8 semanas</small>
    </p>
  </footer>

  <!-- ========================================== -->
  <!-- SCRIPTS DE FIREBASE -->
  <!-- ========================================== -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>

  <script src="js/firebase-config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/game.js"></script>
  <script src="js/main.js"></script>
  
  <!-- ========================================== -->
  <!-- SCRIPTS DE INTERACTIVIDAD DEL FORMULARIO -->
  <!-- ========================================== -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      
      // ===== BOTONES DE GÃ‰NERO =====
      const genderButtons = document.querySelectorAll('.gender-btn');
      const genderInput = document.getElementById('participantGender');
      
      genderButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          genderButtons.forEach(b => b.classList.remove('gender-btn--active'));
          btn.classList.add('gender-btn--active');
          genderInput.value = btn.dataset.gender;
        });
      });
      
      // ===== BOTONES DE TIPO DE SESIÃ“N =====
      const sessionTypeButtons = document.querySelectorAll('[data-session-type]');
      const sessionTypeInput = document.getElementById('sessionType');
      const weekNumberGroup = document.getElementById('weekNumberGroup');
      const weekNumberSelect = document.getElementById('weekNumber');
      
      sessionTypeButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          sessionTypeButtons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const type = btn.dataset.sessionType;
          sessionTypeInput.value = type;
          
          // Autoseleccionar semana segÃºn tipo
          if (type === 'pre-test') {
            weekNumberSelect.value = '1';
          } else if (type === 'post-test') {
            weekNumberSelect.value = '10';
          }
        });
      });
      
      // ===== BOTONES DE IDIOMA DE SESIÃ“N =====
      const languageButtons = document.querySelectorAll('[data-language]');
      const sessionLanguageInput = document.getElementById('sessionLanguage');
      
      languageButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          languageButtons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          sessionLanguageInput.value = btn.dataset.language;
        });
      });
      
      // ===== SLIDERS DE EXPOSICIÃ“N =====
      const readingHoursInput = document.getElementById('readingHours');
      const readingHoursValue = document.getElementById('readingHoursValue');
      const screenHoursInput = document.getElementById('screenHours');
      const screenHoursValue = document.getElementById('screenHoursValue');
      
      readingHoursInput.addEventListener('input', (e) => {
        readingHoursValue.textContent = `${e.target.value} hrs`;
      });
      
      screenHoursInput.addEventListener('input', (e) => {
        screenHoursValue.textContent = `${e.target.value} hrs`;
      });
      
      // ===== VALIDACIÃ“N DE CÃ“DIGO DE ESTUDIANTE =====
      const studentCodeInput = document.getElementById('studentCode');
      
      studentCodeInput.addEventListener('input', (e) => {
        e.target.value = e.target.value.toUpperCase();
      });
      
      // ===== AUTO-GUARDAR DATOS EN LOCALSTORAGE (por si se cierra accidentalmente) =====
      const form = document.getElementById('participantForm');
      const inputs = form.querySelectorAll('input, select');
      
      inputs.forEach(input => {
        input.addEventListener('change', () => {
          localStorage.setItem(`backup_${input.id}`, input.value);
        });
      });
      
      // Restaurar datos si existen
      inputs.forEach(input => {
        const saved = localStorage.getItem(`backup_${input.id}`);
        if (saved && !input.value) {
          input.value = saved;
        }
      });
      
      // Limpiar backup despuÃ©s de enviar formulario
      form.addEventListener('submit', () => {
        inputs.forEach(input => {
          localStorage.removeItem(`backup_${input.id}`);
        });
      });
      
    });
  </script>
</body>
</html>